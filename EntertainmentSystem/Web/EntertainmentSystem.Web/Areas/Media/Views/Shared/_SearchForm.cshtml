@using System.Web.Mvc.Expressions
@using EntertainmentSystem.Web.Controllers.Search

@{string viewTitle = @ViewBag.Title; }

<nav id="search-form-holder" class="navbar navbar-default">
    <div class="container-fluid">
        @using (Ajax.BeginForm<SearchController>(c => c.SearchMedia(viewTitle, null), null, null, new { @id = "search-form", @class = "nav navbar-form navbar-left", @role = "search" }))
        {
            @Html.AntiForgeryToken()

            <div class="form-group">
                @Html.TextBox("SearchText", null, new { @class = "form-control", name = "SearchText", placeholder = "Search" })
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        }

        @* TODO: refactor and implement *@
        @using (Ajax.BeginForm<SearchController>(c => c.SearchMedia(viewTitle, null), null, null, new { @id = "filter-collection-form", @class = "nav navbar-form navbar-right" }))
        {
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="es-dropdown-filter" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Filter by collection
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="es-dropdown-filter">
                    <li><a href="#">Video1</a></li>
                    <li><a href="#">Another action</a></li>
                </ul>
            </div>
        }

        @using (Ajax.BeginForm<SearchController>(c => c.SearchMedia(viewTitle, null), null, null, new { @id = "filter-category-form", @class = "nav navbar-form navbar-right" }))
        {
            <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button" id="es-dropdown-filter" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Filter by category
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="es-dropdown-filter">
                    <li><a href="#">Video1</a></li>
                    <li><a href="#">Another action</a></li>
                </ul>
            </div>
        }
        @* ============================== *@
    </div>
</nav>
